{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rohsuhyeok/Desktop/Side-Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/rohsuhyeok/Desktop/Side-Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/rohsuhyeok/Desktop/Side-Project/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _defineProperty from\"/Users/rohsuhyeok/Desktop/Side-Project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/rohsuhyeok/Desktop/Side-Project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/rohsuhyeok/Desktop/Side-Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate,useParams}from\"react-router-dom\";import*as s from\"./style\";import{Cookies}from\"react-cookie\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Edit=function Edit(_ref){var userPlace=_ref.userPlace;var cookie=new Cookies();var Token=cookie.get(\"token\");// 수정 할 정보 불러오기\nvar _useParams=useParams(),id=_useParams.id;// 태그\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),tags=_useState2[0],setTags=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tagsList=_useState4[0],setTagsList=_useState4[1];var navigate=useNavigate();// 인풋 내용\nvar _useState5=useState({title:\"\",content:\"\",tags:\"\"}),_useState6=_slicedToArray(_useState5,2),input=_useState6[0],setInput=_useState6[1];var title=input.title,content=input.content;var onTotal=function onTotal(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setInput(_objectSpread(_objectSpread({},input),{},_defineProperty({},name,value)));};// Enter 누를 시 태그 생성\nvar onKeyPress=function onKeyPress(e){if(e.target.value.length!==0&&e.key===\"Enter\"){onItem();}};// 태그\nvar onItem=function onItem(){var updataed=_toConsumableArray(tagsList);updataed.push(tags);setTagsList(updataed);setTags(\"\");};// 태그 삭제\nvar onDelete=function onDelete(id){setTagsList(function(tagsList){return tagsList.filter(function(_,el){return el!==id;});});};// 수정 버튼\nvar _onClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(id){var tagsitem;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:tagsitem=String(tagsList);_context.next=3;return axios.patch(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/api/places/\").concat(id),{title:title,content:content,tags:tagsitem},{headers:{Authorization:\"Bearer \".concat(Token)}}).then(function(res){navigate(\"/\");window.location.reload();}).catch(function(error){alert(error.response.data.message);});case 3:case\"end\":return _context.stop();}},_callee);}));return function onClick(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(s.EditorContainer,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(s.TitleInput,{type:\"text\",name:\"title\",value:title,onChange:onTotal,placeholder:\"Article Title\"}),/*#__PURE__*/_jsx(s.ContentArea,{type:\"text\",name:\"content\",value:content,onChange:onTotal,placeholder:\"Write your article (in markdown)\"}),/*#__PURE__*/_jsx(s.TagInput,{type:\"text\",name:\"tags\",value:tags,onChange:function onChange(e){return setTags(e.target.value);},onKeyPress:onKeyPress,placeholder:\"\\uD0DC\\uADF8 \\uC791\\uC131 \\uD6C4 \\uC5D4\\uD130\\uB97C \\uB20C\\uB7EC\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(s.TagDiv,{children:tagsList.map(function(el,id){return/*#__PURE__*/_jsxs(s.TagSpan,{children:[/*#__PURE__*/_jsx(s.TagDelete,{\"aria-label\":\"delete_button\",onClick:function onClick(){return onDelete(id);},children:\"X\"}),el]},id);})}),/*#__PURE__*/_jsx(s.EditorBtn,{\"aria-label\":\"modify_button\",onClick:function onClick(){return _onClick(id);},children:\"Article Modify\"})]})});};export default Edit;","map":{"version":3,"names":["React","useState","useNavigate","useParams","s","Cookies","axios","jsx","_jsx","jsxs","_jsxs","Edit","_ref","userPlace","cookie","Token","get","_useParams","id","_useState","_useState2","_slicedToArray","tags","setTags","_useState3","_useState4","tagsList","setTagsList","navigate","_useState5","title","content","_useState6","input","setInput","onTotal","e","_e$target","target","name","value","_objectSpread","_defineProperty","onKeyPress","length","key","onItem","updataed","_toConsumableArray","push","onDelete","filter","_","el","onClick","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tagsitem","wrap","_callee$","_context","prev","next","String","patch","concat","process","env","REACT_APP_BACKEND_URL","headers","Authorization","then","res","window","location","reload","catch","error","alert","response","data","message","stop","_x","apply","arguments","EditorContainer","children","TitleInput","type","onChange","placeholder","ContentArea","TagInput","TagDiv","map","TagSpan","TagDelete","EditorBtn"],"sources":["/Users/rohsuhyeok/Desktop/Side-Project/client/src/page/Edit/Edit.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport * as s from \"./style\";\nimport { Cookies } from \"react-cookie\";\nimport axios from \"axios\";\n\nconst Edit = ({ userPlace }) => {\n  const cookie = new Cookies();\n  const Token = cookie.get(\"token\");\n\n  // 수정 할 정보 불러오기\n  const { id } = useParams();\n  // 태그\n  const [tags, setTags] = useState(\"\");\n  const [tagsList, setTagsList] = useState([]);\n\n  const navigate = useNavigate();\n  // 인풋 내용\n  const [input, setInput] = useState({\n    title: \"\",\n    content: \"\",\n    tags: \"\",\n  });\n  const { title, content } = input;\n\n  const onTotal = (e) => {\n    const { name, value } = e.target;\n    setInput({\n      ...input,\n      [name]: value,\n    });\n  };\n\n  // Enter 누를 시 태그 생성\n  const onKeyPress = (e) => {\n    if (e.target.value.length !== 0 && e.key === \"Enter\") {\n      onItem();\n    }\n  };\n  // 태그\n  const onItem = () => {\n    let updataed = [...tagsList];\n    updataed.push(tags);\n    setTagsList(updataed);\n    setTags(\"\");\n  };\n\n  // 태그 삭제\n  const onDelete = (id) => {\n    setTagsList((tagsList) => tagsList.filter((_, el) => el !== id));\n  };\n\n  // 수정 버튼\n  const onClick = async (id) => {\n    let tagsitem = String(tagsList);\n    await axios\n      .patch(\n        `${process.env.REACT_APP_BACKEND_URL}/api/places/${id}`,\n        {\n          title: title,\n          content: content,\n          tags: tagsitem,\n        },\n        {\n          headers: {\n            Authorization: `Bearer ${Token}`,\n          },\n        }\n      )\n      .then((res) => {\n        navigate(\"/\");\n        window.location.reload();\n      })\n      .catch((error) => {\n        alert(error.response.data.message);\n      });\n  };\n\n  return (\n    <s.EditorContainer>\n      <div>\n        <s.TitleInput\n          type=\"text\"\n          name=\"title\"\n          value={title}\n          onChange={onTotal}\n          placeholder=\"Article Title\"\n        />\n        <s.ContentArea\n          type=\"text\"\n          name=\"content\"\n          value={content}\n          onChange={onTotal}\n          placeholder=\"Write your article (in markdown)\"\n        />\n        <s.TagInput\n          type=\"text\"\n          name=\"tags\"\n          value={tags}\n          onChange={(e) => setTags(e.target.value)}\n          onKeyPress={onKeyPress}\n          placeholder=\"태그 작성 후 엔터를 눌러주세요\"\n        />\n        <s.TagDiv>\n          {tagsList.map((el, id) => (\n            <s.TagSpan key={id}>\n              <s.TagDelete\n                aria-label=\"delete_button\"\n                onClick={() => onDelete(id)}\n              >\n                X\n              </s.TagDelete>\n              {el}\n            </s.TagSpan>\n          ))}\n        </s.TagDiv>\n        <s.EditorBtn aria-label=\"modify_button\" onClick={() => onClick(id)}>\n          Article Modify\n        </s.EditorBtn>\n      </div>\n    </s.EditorContainer>\n  );\n};\nexport default Edit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}