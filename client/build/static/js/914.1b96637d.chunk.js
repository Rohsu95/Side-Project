"use strict";(self.webpackChunkpre=self.webpackChunkpre||[]).push([[914],{2858:function(n,e,r){r.d(e,{J:function(){return c},i:function(){return a}});var t=r(7892),o=r.n(t),i=(r(2791),r(184)),a=function(n){var e=n.createdAt,r=o()(e);return(0,i.jsx)("div",{children:r.format("YYYY-MM-DD")})},c=function(n){var e=n.createdAt,r=o()(e);return(0,i.jsx)("div",{children:r.format("YYYY-MM-DD HH:mm")})}},1914:function(n,e,r){r.r(e),r.d(e,{default:function(){return sn}});var t,o,i,a,c,s,d,l,m,u,h,p,f,g,x,Z,v,b,j=r(9439),w=r(2791),y=r(458),k=r(7425),z=r(168),_=r(1087),P=r(6444),N=r(2004),A=P.ZP.div(t||(t=(0,z.Z)(["\n  height: 140vh;\n"]))),S=P.ZP.div(o||(o=(0,z.Z)(["\n  background-color: ",";\n  color: ",";\n\n  padding: 3rem 0;\n  display: flex;\n  align-items: center;\n\n  @media "," {\n    display: flex;\n    justify-content: center;\n  }\n  .info {\n    margin-left: 3rem;\n    margin-right: 3rem;\n\n    @media "," {\n      font-size: ",";\n    }\n  }\n  h1 {\n    @media "," {\n      display: flex;\n      justify-content: center;\n    }\n  }\n"])),N.Z.colors.black,N.Z.colors.white,N.Z.media.phone,N.Z.media.phone,N.Z.fontSizes.fs07,N.Z.media.phone),C=P.ZP.div(i||(i=(0,z.Z)(["\n  margin-top: 2rem;\n  .detailLine {\n    display: flex;\n    align-items: center;\n\n    @media "," {\n      flex-direction: column;\n    }\n  }\n  .name {\n    display: flex;\n    flex-direction: column;\n    margin-right: 2rem;\n\n    @media "," {\n      white-space: nowrap;\n    }\n    @media "," {\n      font-size: ",";\n      margin-bottom: 0.5rem;\n      margin-left: 1.5rem;\n    }\n  }\n"])),N.Z.media.phone,N.Z.media.mobile,N.Z.media.phone,N.Z.fontSizes.fs07),Y=(0,P.ZP)(_.rU)(a||(a=(0,z.Z)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n"]))),D=P.ZP.img(c||(c=(0,z.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: 25px;\n  margin-right: 0.5rem;\n  margin-left: ",";\n\n  @media "," {\n    margin-bottom: 0.5rem;\n    width: ",";\n    height: ",";\n  }\n"])),(function(n){return n.width||"36px"}),(function(n){return n.height||"36px"}),(function(n){return n.margin}),N.Z.media.phone,(function(n){return n.width_hover||"36px"}),(function(n){return n.height_hover||"36px"})),I=P.ZP.button(s||(s=(0,z.Z)(["\n  color: ",";\n  background-color: ",";\n  border: none;\n  cursor: pointer;\n  display: flex;\n\n  @media "," {\n    white-space: nowrap;\n    justify-content: center;\n  }\n"])),N.Z.colors.main,N.Z.colors.black,N.Z.media.phone),M=P.ZP.span(d||(d=(0,z.Z)(["\n  color: ",";\n\n  @media "," {\n    white-space: nowrap;\n  }\n"])),N.Z.colors.content,N.Z.media.mobile),U=P.ZP.button(l||(l=(0,z.Z)(["\n  display: flex;\n  height: 3vh;\n  align-items: center;\n  border-radius: 5px;\n  margin-right: 0.25rem;\n  padding: 0.25rem 0.25rem;\n  color: ",";\n  background-color: ",";\n  border: 2px solid ",";\n  svg {\n    margin-right: 2px;\n  }\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  @media "," {\n    white-space: nowrap;\n  }\n  @media "," {\n    font-size: ",";\n    margin-bottom: ",";\n  }\n"])),(function(n){return n.color}),N.Z.colors.black,(function(n){return n.border}),(function(n){return n.hover}),(function(n){return n.hover_color}),N.Z.media.mobile,N.Z.media.phone,N.Z.fontSizes.fs07,(function(n){return n.margin})),T=P.ZP.div(m||(m=(0,z.Z)(["\n  margin: 3rem 3rem 0 3rem;\n  padding-bottom: 3rem;\n  border-bottom: 2px solid ",";\n"])),N.Z.colors.gray_03),q=P.ZP.ul(u||(u=(0,z.Z)(["\n  display: flex;\n  list-style: none;\n  color: ",";\n  font-size: ",";\n\n  li {\n    border: 2px solid ",";\n    padding: 0.125rem 0.25rem;\n    border-radius: 20px;\n    margin-top: 1rem;\n    margin-right: 0.25rem;\n  }\n"])),N.Z.colors.content,N.Z.fontSizes.fs0,N.Z.colors.gray_03),E=P.ZP.div(h||(h=(0,z.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 3rem;\n  .textArea {\n    padding: 1.25rem 1.5rem;\n    width: 40vw;\n    height: 8vh;\n    display: block;\n    border-radius: 5px 5px 0 0;\n    border: 2px solid ",";\n  }\n  .commentToken {\n    padding-bottom: 3rem;\n\n    @media "," {\n      /* white-space: nowrap; */\n      font-size: ",";\n    }\n  }\n"])),N.Z.colors.gray_01,N.Z.media.phone,N.Z.fontSizes.fs07),F=P.ZP.div(p||(p=(0,z.Z)([""]))),K=P.ZP.div(f||(f=(0,z.Z)(["\n  display: flex;\n  height: 6vh;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n  border: 2px solid ",";\n  /* border-top: 1px solid ","; */\n  border-radius: 0 0 10px 10px;\n\n  .commentName {\n    display: flex;\n    align-items: center;\n\n    @media "," {\n      white-space: nowrap;\n      font-size: ",";\n    }\n    .commentUser {\n      margin-bottom: 0.5rem;\n\n      @media "," {\n        white-space: nowrap;\n        font-size: ",";\n      }\n    }\n  }\n\n  @media "," {\n    font-size: ",";\n    margin-bottom: ",";\n  }\n"])),N.Z.colors.gray_01,N.Z.colors.gray_01,N.Z.colors.gray_01,N.Z.media.height,N.Z.fontSizes.fs07,N.Z.media.phone,N.Z.fontSizes.fs0,N.Z.media.phone,N.Z.fontSizes.fs0,(function(n){return n.margin})),L=P.ZP.button(g||(g=(0,z.Z)(["\n  border-radius: 5px;\n  padding: 0.25rem 0.5rem;\n  margin-right: 1.25rem;\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",";\n  cursor: pointer;\n  @media "," {\n    font-size: ",";\n    margin-left: 0.5rem;\n  }\n"])),N.Z.colors.white,N.Z.colors.main,N.Z.colors.main,N.Z.media.phone,N.Z.fontSizes.fs0),B=P.ZP.div(x||(x=(0,z.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n"]))),H=P.ZP.div(Z||(Z=(0,z.Z)(["\n  margin-bottom: 1rem;\n"]))),J=P.ZP.div(v||(v=(0,z.Z)(["\n  width: 35vw;\n  height: 4vh;\n  padding: 1.25rem 1.25rem;\n  border: 2px solid ",";\n"])),N.Z.colors.gray_01),O=P.ZP.button(b||(b=(0,z.Z)(["\n  border: none;\n  font-size: ",";\n  background-color: ",";\n  margin-right: 1.25rem;\n  cursor: pointer;\n"])),N.Z.fontSizes.fs15,N.Z.colors.gray_01),Q=r(7689),W=r(5920),G=r(2858),R=r(3713),V=r(7137),X=r(8556),$=r(4165),nn=r(5861),en=r(1243),rn="http://localhost:8000",tn=function(){var n=(0,nn.Z)((0,$.Z)().mark((function n(e){var r;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,en.Z)({method:"get",url:"".concat(rn,"/api/places/comments"),headers:{Authorization:"Bearer ".concat(e)}});case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),on=function(){var n=(0,nn.Z)((0,$.Z)().mark((function n(e){var r,t,o;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,en.Z)({method:"post",data:e,headers:{"Content-Type":"application/json"},url:"".concat(rn,"/api/places/comment")});case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0),alert(null===n.t0||void 0===n.t0||null===(t=n.t0.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),an=function(){var n=(0,nn.Z)((0,$.Z)().mark((function n(e,r){var t;return(0,$.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,en.Z)({method:"delete",url:"".concat(rn,"/api/places/comment/").concat(r),headers:{Authorization:"Bearer ".concat(e)}});case 3:return t=n.sent,alert("\uc0ad\uc81c \ud558\uc600\uc2b5\ub2c8\ub2e4."),window.location.reload(),n.abrupt("return",t.data);case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,r){return n.apply(this,arguments)}}(),cn=r(184),sn=function(n){var e=n.userInfo,r=n.userPlace,t=new W.Z,o=t.get("token"),i=t.get("username"),a=t.get("userId"),c=(0,R.NL)(),s=(0,w.useState)(""),d=(0,j.Z)(s,2),l=d[0],m=d[1],u=(0,Q.s0)(),h=(0,Q.UO)().id,p=(0,V.a)({queryKey:["CommentInfo"],queryFn:tn}).data,f=null===p||void 0===p?void 0:p.comment,g=null===e||void 0===e?void 0:e.find((function(n){return n.id===a})),x=null===r||void 0===r?void 0:r.find((function(n){return n.id===h})),Z=(0,X.D)({mutationKey:["COMMENT_KEY"],mutationFn:on,onSuccess:function(n){c.invalidateQueries(),console.log(n),m("")}}).mutate;return(0,cn.jsx)(A,{children:x&&(0,cn.jsxs)("div",{children:[(0,cn.jsx)(S,{children:(0,cn.jsxs)("div",{className:"info",children:[(0,cn.jsx)("h1",{children:x.title}),(0,cn.jsx)(C,{children:(0,cn.jsxs)("div",{className:"detailLine",children:[(0,cn.jsx)(Y,{to:o?"/mypage":"",children:(0,cn.jsx)(D,{src:"".concat("http://localhost:8000","/").concat(null===x||void 0===x?void 0:x.image),alt:"\uc774\ubbf8\uc9c0"})}),(0,cn.jsxs)("div",{className:"name",children:[(0,cn.jsx)(I,{href:"/mypage",children:(null===x||void 0===x?void 0:x.creator)===a?null===g||void 0===g?void 0:g.username:null===x||void 0===x?void 0:x.username}),(0,cn.jsx)(M,{children:(0,cn.jsx)(G.J,{createdAt:x.createdAt})})]}),o&&x.creator===a?(0,cn.jsxs)(U,{"aria-label":"edit_button",border:"#ccc",color:"#ccc",hover:"#282A3A",hover_color:"white",margin:"0.5rem",onClick:function(){return u("/edit/".concat(x.id))},children:[(0,cn.jsx)(y.FNg,{}),"Edit Article"]}):""]})})]})}),(0,cn.jsxs)(T,{children:[(0,cn.jsx)("div",{children:x.content}),(0,cn.jsx)(q,{children:x.tags.split(",").map((function(n,e){return(0,cn.jsx)("li",{children:n},e)}))})]}),(0,cn.jsx)(E,{children:o?(0,cn.jsxs)(F,{children:[(0,cn.jsx)("textarea",{value:l,onChange:function(n){m(n.target.value)},className:"textArea",type:"text",name:"commentInput",placeholder:"Write a comment..."}),(0,cn.jsxs)(K,{children:[(0,cn.jsxs)("div",{className:"commentName",children:[(0,cn.jsx)(D,{src:"".concat("http://localhost:8000","/").concat(null===g||void 0===g?void 0:g.image),alt:"\uc774\ubbf8\uc9c0",margin:"1.25rem",width_hover:"20px",height_hover:"20px"}),(0,cn.jsx)("span",{className:"commentUser",children:null===g||void 0===g?void 0:g.username})]}),(0,cn.jsx)(L,{"aria-label":"comment_button",onClick:function(){var n=new Date(Date.now());Z({comment:l,createdAt:n,creator:a,username:i,image:g.image,commentId:h})},children:"Comment"})]})]}):(0,cn.jsx)("div",{className:"commentToken",children:"\ub85c\uadf8\uc778 \ud558\uc2e0 \ud6c4\uc5d0 \ub313\uae00\uc744 \uc791\uc131 \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})}),(0,cn.jsx)(B,{children:(0,cn.jsx)("div",{children:null===f||void 0===f?void 0:f.map((function(n,e){return n.commentId===h?(0,cn.jsxs)(H,{children:[(0,cn.jsx)(J,{children:(0,cn.jsx)("p",{children:n.comment})}),(0,cn.jsxs)(K,{children:[(0,cn.jsxs)("div",{className:"commentName",children:[(0,cn.jsx)(D,{src:"".concat("http://localhost:8000","/").concat(null===n||void 0===n?void 0:n.image),alt:"\uc774\ubbf8\uc9c0",margin:"1.25rem",width:"24px",height:"24px",width_hover:"20px",height_hover:"20px"}),(0,cn.jsx)("span",{className:"commentUser",children:n.creator===a?null===g||void 0===g?void 0:g.username:n.username})]}),n.creator===a?(0,cn.jsx)(O,{"aria-label":"delete_button",onClick:function(){return an(o,n.id)},children:(0,cn.jsx)(k.qy0,{})}):""]})]},e):""})).reverse()})})]})})}}}]);
//# sourceMappingURL=914.1b96637d.chunk.js.map