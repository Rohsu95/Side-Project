"use strict";(self.webpackChunkpre=self.webpackChunkpre||[]).push([[620],{2620:function(t,n,e){e.r(n),e.d(n,{default:function(){return A}});var i,r,o,s,a,u,l,c,d,h=e(4165),Z=e(5861),v=e(3433),f=e(4942),p=e(1413),m=e(9439),g=e(2791),b=e(7689),y=e(168),k=e(6444),w=e(2004),x=k.ZP.div(i||(i=(0,y.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n\n  input {\n    width: 60vw;\n    display: block;\n    margin-top: 1rem;\n    border-radius: 5px;\n    padding-left: 1rem;\n    border: 1px solid ",";\n    outline: none;\n  }\n"])),w.Z.colors.gray_01),S=k.ZP.input(r||(r=(0,y.Z)(["\n  font-size: 1.25rem;\n  height: 4.5vh;\n"]))),C=(k.ZP.input(o||(o=(0,y.Z)(["\n  height: 3vh;\n"]))),k.ZP.textarea(s||(s=(0,y.Z)(["\n  width: 60vw;\n  height: 15vh;\n  margin-top: 1rem;\n  border-radius: 5px;\n  padding-left: 1rem;\n  padding-top: 0.5rem;\n  border: 1px solid ",";\n"])),w.Z.colors.gray_01)),O=k.ZP.input(a||(a=(0,y.Z)(["\n  height: 3vh;\n"]))),P=k.ZP.button(u||(u=(0,y.Z)(["\n  color: white;\n  border: none;\n  float: right;\n  margin-top: 1rem;\n  padding: 0.75rem 1.5rem;\n  border-radius: 5px;\n  background-color: ",";\n  cursor: pointer;\n"])),w.Z.colors.main),M=k.ZP.div(l||(l=(0,y.Z)(["\n  margin-top: 0.5rem;\n  width: 60vw;\n  padding-left: 1rem;\n"]))),j=k.ZP.span(c||(c=(0,y.Z)(["\n  color: ",";\n  font-size: ",";\n  padding: 0.375rem 0.6rem 0.375rem 0.375rem;\n  border-radius: 15px;\n  margin-right: 0.5rem;\n  background-color: ",";\n\n  @media "," {\n    font-size: ",";\n  }\n"])),w.Z.colors.white,w.Z.fontSizes.fs06,w.Z.colors.tag,w.Z.media.phone,w.Z.fontSizes.fs0),z=k.ZP.button(d||(d=(0,y.Z)(["\n  border: none;\n  color: white;\n  background-color: ",";\n  margin-right: 0.25rem;\n  font-size: ",";\n  cursor: pointer;\n  margin: 0 0.25rem;\n\n  @media "," {\n    font-size: ",";\n  }\n"])),w.Z.colors.tag,w.Z.fontSizes.fs06,w.Z.media.phone,w.Z.fontSizes.fs0),E=e(5920),K=e(1243),W=e(3713),L=e(8556),_=e(184),A=function(){(new E.Z).get("token");var t=(0,W.NL)(),n=(0,b.UO)().id,e=(0,g.useState)(""),i=(0,m.Z)(e,2),r=i[0],o=i[1],s=(0,g.useState)([]),a=(0,m.Z)(s,2),u=a[0],l=a[1],c=(0,b.s0)(),d=(0,g.useState)({title:"",content:"",tags:""}),y=(0,m.Z)(d,2),k=y[0],w=y[1],A=k.title,R=k.content,U=function(t){var n=t.target,e=n.name,i=n.value;w((0,p.Z)((0,p.Z)({},k),{},(0,f.Z)({},e,i)))},V=function(){var t=(0,v.Z)(u);t.push(r),l(t),o("")},Y=(0,L.D)({mutationKey:["PATCH_KEY"],mutationFn:function(){var t=(0,Z.Z)((0,h.Z)().mark((function t(e){return(0,h.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K.Z.patch("".concat("http://localhost:8000","/api/places/").concat(n),e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),onSuccess:function(n){console.log(n),t.invalidateQueries(),c("/")},onError:function(t){var n,e;alert(null===t||void 0===t||null===(n=t.response)||void 0===n||null===(e=n.data)||void 0===e?void 0:e.message)}}),D=Y.mutate;return(0,_.jsx)(x,{children:(0,_.jsxs)("div",{children:[(0,_.jsx)(S,{type:"text",name:"title",value:A,onChange:U,placeholder:"Article Title"}),(0,_.jsx)(C,{type:"text",name:"content",value:R,onChange:U,placeholder:"Write your article (in markdown)"}),(0,_.jsx)(O,{type:"text",name:"tags",value:r,onChange:function(t){return o(t.target.value)},onKeyPress:function(t){0!==t.target.value.length&&"Enter"===t.key&&V()},placeholder:"\ud0dc\uadf8 \uc791\uc131 \ud6c4 \uc5d4\ud130\ub97c \ub20c\ub7ec\uc8fc\uc138\uc694"}),(0,_.jsx)(M,{children:u.map((function(t,n){return(0,_.jsxs)(j,{children:[(0,_.jsx)(z,{"aria-label":"delete_button",onClick:function(){return function(t){l((function(n){return n.filter((function(n,e){return e!==t}))}))}(n)},children:"X"}),t]},n)}))}),(0,_.jsx)(P,{"aria-label":"modify_button",onClick:function(){return function(){var t=String(u);D({title:A,content:R,tags:t})}()},children:"Article Modify"})]})})}},8556:function(t,n,e){e.d(n,{D:function(){return E}});var i,r,o,s,a,u,l=e(1413),c=e(9439),d=e(2791),h=e(5671),Z=e(3144),v=e(7326),f=e(136),p=e(7277),m=e(101),g=e(2346),b=e(6033),y=e(3889),k=e(3092),w=e(2756),x=e(7211),S=e(8974),C=e(5391),O=(i=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakSet,u=new WeakSet,function(t){(0,f.Z)(e,t);var n=(0,p.Z)(e);function e(t,l){var c;return(0,h.Z)(this,e),c=n.call(this),(0,m.Z)((0,v.Z)(c),u),(0,m.Z)((0,v.Z)(c),a),(0,g.Z)((0,v.Z)(c),i,{writable:!0,value:void 0}),(0,g.Z)((0,v.Z)(c),r,{writable:!0,value:void 0}),(0,g.Z)((0,v.Z)(c),o,{writable:!0,value:void 0}),(0,g.Z)((0,v.Z)(c),s,{writable:!0,value:void 0}),(0,k.Z)((0,v.Z)(c),r,void 0),(0,k.Z)((0,v.Z)(c),i,t),c.setOptions(l),c.bindMethods(),(0,y.Z)((0,v.Z)(c),a,P).call((0,v.Z)(c)),c}return(0,Z.Z)(e,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(t){var n,e=this.options;this.options=(0,b.Z)(this,i).defaultMutationOptions(t),(0,C.VS)(e,this.options)||(0,b.Z)(this,i).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,b.Z)(this,o),observer:this}),null===(n=(0,b.Z)(this,o))||void 0===n||n.setOptions(this.options),null!==e&&void 0!==e&&e.mutationKey&&this.options.mutationKey&&(0,C.Ym)(e.mutationKey)!==(0,C.Ym)(this.options.mutationKey)&&this.reset()}},{key:"onUnsubscribe",value:function(){var t;this.hasListeners()||(null===(t=(0,b.Z)(this,o))||void 0===t||t.removeObserver(this))}},{key:"onMutationUpdate",value:function(t){(0,y.Z)(this,a,P).call(this),(0,y.Z)(this,u,M).call(this,t)}},{key:"getCurrentResult",value:function(){return(0,b.Z)(this,r)}},{key:"reset",value:function(){var t;null===(t=(0,b.Z)(this,o))||void 0===t||t.removeObserver(this),(0,k.Z)(this,o,void 0),(0,y.Z)(this,a,P).call(this),(0,y.Z)(this,u,M).call(this)}},{key:"mutate",value:function(t,n){var e;return(0,k.Z)(this,s,n),null===(e=(0,b.Z)(this,o))||void 0===e||e.removeObserver(this),(0,k.Z)(this,o,(0,b.Z)(this,i).getMutationCache().build((0,b.Z)(this,i),this.options)),(0,b.Z)(this,o).addObserver(this),(0,b.Z)(this,o).execute(t)}}]),e}(S.l));function P(){var t,n,e=null!==(t=null===(n=(0,b.Z)(this,o))||void 0===n?void 0:n.state)&&void 0!==t?t:(0,w.R)();(0,k.Z)(this,r,(0,l.Z)((0,l.Z)({},e),{},{isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}))}function M(t){var n=this;x.V.batch((function(){if((0,b.Z)(n,s)&&n.hasListeners()){var e,i,o,a,u=(0,b.Z)(n,r).variables,l=(0,b.Z)(n,r).context;if("success"===(null===t||void 0===t?void 0:t.type))null===(e=(i=(0,b.Z)(n,s)).onSuccess)||void 0===e||e.call(i,t.data,u,l),null===(o=(a=(0,b.Z)(n,s)).onSettled)||void 0===o||o.call(a,t.data,null,u,l);else if("error"===(null===t||void 0===t?void 0:t.type)){var c,d,h,Z;null===(c=(d=(0,b.Z)(n,s)).onError)||void 0===c||c.call(d,t.error,u,l),null===(h=(Z=(0,b.Z)(n,s)).onSettled)||void 0===h||h.call(Z,void 0,t.error,u,l)}}n.listeners.forEach((function(t){t((0,b.Z)(n,r))}))}))}var j=e(3713),z=e(8981);function E(t,n){var e=(0,j.NL)(n),i=d.useState((function(){return new O(e,t)})),r=(0,c.Z)(i,1)[0];d.useEffect((function(){r.setOptions(t)}),[r,t]);var o=d.useSyncExternalStore(d.useCallback((function(t){return r.subscribe(x.V.batchCalls(t))}),[r]),(function(){return r.getCurrentResult()}),(function(){return r.getCurrentResult()})),s=d.useCallback((function(t,n){r.mutate(t,n).catch(K)}),[r]);if(o.error&&(0,z.L)(r.options.throwOnError,[o.error]))throw o.error;return(0,l.Z)((0,l.Z)({},o),{},{mutate:s,mutateAsync:o.mutate})}function K(){}}}]);
//# sourceMappingURL=620.ca3b29a8.chunk.js.map