{"version":3,"file":"static/js/225.17640667.chunk.js","mappings":"gPAGaA,EAAYC,EAAAA,GAAAA,IAAUC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,+BAItBC,EAAOH,EAAAA,GAAAA,IAAUI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,iLAOfG,EAAAA,EAAAA,OAAAA,YAOFC,GAAaN,EAAAA,EAAAA,IAAOO,EAAAA,GAAPP,CAAYQ,IAAAA,GAAAN,EAAAA,EAAAA,GAAA,kDAE3BG,EAAAA,EAAAA,OAAAA,MAEEI,EAAgBT,EAAAA,GAAAA,IAAUU,IAAAA,GAAAR,EAAAA,EAAAA,GAAA,2oBAiBfG,EAAAA,EAAAA,OAAAA,QACXA,EAAAA,EAAAA,MAAAA,OAWIA,EAAAA,EAAAA,UAAAA,IACJA,EAAAA,EAAAA,OAAAA,MACWA,EAAAA,EAAAA,OAAAA,KAGEA,EAAAA,EAAAA,OAAAA,Y,uCCoC1B,EAvFc,WAAO,IAADM,EAAAC,EACZC,GAAWC,EAAAA,EAAAA,MACXC,EAAS,IAAIC,EAAAA,EAEbC,GAAcC,EAAAA,EAAAA,MAEpBC,GAKIC,EAAAA,EAAAA,MAJFC,EAAQF,EAARE,SACAC,EAAYH,EAAZG,aACAC,EAAKJ,EAALI,MACaC,EAAML,EAAnBM,UAAaD,OAGPE,GAAWC,EAAAA,EAAAA,GAAY,CAC7BC,YAAa,YACbC,WAAYC,EAAAA,GACZC,UAAW,SAACC,GACV,IAAQC,EAAmCD,EAAnCC,OAAQC,EAA2BF,EAA3BE,MAAOC,EAAoBH,EAApBG,SAAUC,EAAUJ,EAAVI,MACjCrB,EAAOsB,IAAI,QAASH,GACpBnB,EAAOsB,IAAI,SAAUJ,GACrBlB,EAAOsB,IAAI,WAAYF,GACvBpB,EAAOsB,IAAI,QAASD,GACpBvB,EAAS,KACTI,EAAYqB,oBACZC,OAAOC,SAASC,QAElB,IAbMf,OAuBR,OACEgB,EAAAA,EAAAA,MAACC,EAAW,CAAAC,SAAA,EACVF,EAAAA,EAAAA,MAACC,EAAM,CAAAC,SAAA,EACLC,EAAAA,EAAAA,KAAA,MAAAD,SAAI,aACJC,EAAAA,EAAAA,KAACF,EAAY,CAACG,GAAG,UAASF,UACxBC,EAAAA,EAAAA,KAAA,KAAGE,UAAU,QAAOH,SAAC,2BAGzBC,EAAAA,EAAAA,KAACF,EAAe,CAAAC,UACdF,EAAAA,EAAAA,MAAA,QAAMM,SAAU1B,GAhBL,WACfI,EAAO,CACLuB,MAAO1B,EAAM,SACb2B,SAAU3B,EAAM,aAEpB,IAW6CqB,SAAA,EACrCC,EAAAA,EAAAA,KAAA,SAAAM,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACM9B,EAAS,QAAS,CACpB+B,SAAU,sGACVC,UAAW,CACTC,MAAO,GACPC,QAAS,2EAEXC,UAAW,CACTF,MAAO,GACPC,QAAS,oFAEX,IACFE,KAAK,QACLV,UAAU,QACVW,YAAY,YAEdb,EAAAA,EAAAA,KAAA,QAAAD,SAAa,OAANpB,QAAM,IAANA,GAAa,QAAPb,EAANa,EAAQyB,aAAK,IAAAtC,OAAP,EAANA,EAAe4C,WAEtBV,EAAAA,EAAAA,KAAA,SAAAM,EAAAA,EAAAA,GAAA,CACEJ,UAAU,QACVW,YAAY,WACZD,KAAK,YACDpC,EAAS,WAAY,CACvB+B,SAAU,wGACVC,UAAW,CACTC,MAAO,EACPC,QAAS,mFAEXC,UAAW,CACTF,MAAO,GACPC,QAAS,yFAIfV,EAAAA,EAAAA,KAAA,QAAAD,SAAa,OAANpB,QAAM,IAANA,GAAgB,QAAVZ,EAANY,EAAQ0B,gBAAQ,IAAAtC,OAAV,EAANA,EAAkB2C,WACzBV,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,mBAKlB,C","sources":["page/Login/style.js","page/Login/Login.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport theme from \"../../styles/Theme\";\nexport const Container = styled.div`\n  margin-top: 2rem;\n`;\n\nexport const Sign = styled.div`\n  text-align: center;\n  margin-bottom: 2rem;\n  .login {\n    display: inline;\n\n    &:hover {\n      color: ${theme.colors.main_hover};\n    }\n  }\n  h1 {\n    margin-bottom: 1rem;\n  }\n`;\nexport const SignupLink = styled(Link)`\n  text-decoration: none;\n  color: ${theme.colors.main};\n`;\nexport const FormContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  span {\n    font-size: 0.75rem;\n    display: block;\n    margin-bottom: 1.25rem;\n    color: red;\n  }\n\n  .Input {\n    width: 30rem;\n    height: 3.25rem;\n    padding: 0 0.75rem;\n    font-size: 1.25rem;\n    display: block;\n    border-radius: 5px;\n    border: 1px solid ${theme.colors.gray_03};\n    @media ${theme.media.height} {\n      width: 20rem;\n    }\n  }\n  button {\n    border: 0;\n    width: 6rem;\n    float: right;\n    height: 2.75rem;\n    border-radius: 5px;\n    cursor: pointer;\n    font-size: ${theme.fontSizes.fs1};\n    color: ${theme.colors.white};\n    background-color: ${theme.colors.main};\n\n    &:hover {\n      background-color: ${theme.colors.main_hover};\n    }\n  }\n`;\n","import React from \"react\";\nimport { Cookies } from \"react-cookie\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate } from \"react-router-dom\";\nimport * as s from \"./style\";\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { loginUser } from \"api/userAPI\";\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const cookie = new Cookies();\n\n  const queryClient = useQueryClient();\n\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm();\n\n  const { mutate } = useMutation({\n    mutationKey: \"LOGIN_KEY\",\n    mutationFn: loginUser,\n    onSuccess: (data) => {\n      const { userId, token, username, image } = data;\n      cookie.set(\"token\", token);\n      cookie.set(\"userId\", userId);\n      cookie.set(\"username\", username);\n      cookie.set(\"image\", image);\n      navigate(\"/\");\n      queryClient.invalidateQueries();\n      window.location.reload();\n      // console.log(\"데이터들\", data);\n    },\n  });\n\n  const onSubmit = () => {\n    mutate({\n      email: watch(\"email\"),\n      password: watch(\"password\"),\n    });\n  };\n\n  return (\n    <s.Container>\n      <s.Sign>\n        <h1>Sign In</h1>\n        <s.SignupLink to=\"/signup\">\n          <p className=\"login\">Need an account?</p>\n        </s.SignupLink>\n      </s.Sign>\n      <s.FormContainer>\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <input\n            {...register(\"email\", {\n              required: \"12자 이상 20자 이하의 email을 입력해 주세요\",\n              minLength: {\n                value: 12,\n                message: \"12자 이상의 email 입력해 주세요\",\n              },\n              maxLength: {\n                value: 20,\n                message: \"20자 이하의 email을 입력해 주세요\",\n              },\n            })}\n            type=\"email\"\n            className=\"Input\"\n            placeholder=\"Email\"\n          />\n          <span>{errors?.email?.message}</span>\n\n          <input\n            className=\"Input\"\n            placeholder=\"Password\"\n            type=\"password\"\n            {...register(\"password\", {\n              required: \"8자 이상 12자 이하의 password를 입력해 주세요\",\n              minLength: {\n                value: 8,\n                message: \"8자 이상의 password를 입력해 주세요\",\n              },\n              maxLength: {\n                value: 12,\n                message: \"12자 이하의 password를 입력해 주세요\",\n              },\n            })}\n          />\n          <span>{errors?.password?.message}</span>\n          <button>Sign in</button>\n        </form>\n      </s.FormContainer>\n    </s.Container>\n  );\n};\nexport default Login;\n"],"names":["Container","styled","_templateObject","_taggedTemplateLiteral","Sign","_templateObject2","theme","SignupLink","Link","_templateObject3","FormContainer","_templateObject4","_errors$email","_errors$password","navigate","useNavigate","cookie","Cookies","queryClient","useQueryClient","_useForm","useForm","register","handleSubmit","watch","errors","formState","mutate","useMutation","mutationKey","mutationFn","loginUser","onSuccess","data","userId","token","username","image","set","invalidateQueries","window","location","reload","_jsxs","s","children","_jsx","to","className","onSubmit","email","password","_objectSpread","required","minLength","value","message","maxLength","type","placeholder"],"sourceRoot":""}