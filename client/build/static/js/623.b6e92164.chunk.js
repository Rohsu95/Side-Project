"use strict";(self.webpackChunkpre=self.webpackChunkpre||[]).push([[623],{2858:function(n,e,r){r.d(e,{J:function(){return c},i:function(){return a}});var t=r(7892),i=r.n(t),o=(r(2791),r(184)),a=function(n){var e=n.createdAt,r=i()(e);return(0,o.jsx)("div",{children:r.format("YYYY-MM-DD")})},c=function(n){var e=n.createdAt,r=i()(e);return(0,o.jsx)("div",{children:r.format("YYYY-MM-DD HH:mm")})}},6919:function(n,e,r){r.d(e,{ej:function(){return o},nJ:function(){return a}});var t=r(1413),i=new(r(5920).Z),o=function(n){return i.get(n)},a=function(n,e){return i.remove(n,(0,t.Z)({},e))}},623:function(n,e,r){r.r(e),r.d(e,{default:function(){return rn}});var t,i,o,a,c,s,d,l,m,u,h,p,f,g,x,Z,v,b,j=r(4165),w=r(5861),y=r(9439),k=r(2791),z=r(458),P=r(7425),_=r(168),N=r(1087),S=r(6444),A=r(2004),Y=S.ZP.div(t||(t=(0,_.Z)(["\n  height: 140vh;\n"]))),C=S.ZP.div(i||(i=(0,_.Z)(["\n  background-color: ",";\n  color: ",";\n\n  padding: 3rem 0;\n  display: flex;\n  align-items: center;\n\n  @media "," {\n    display: flex;\n    justify-content: center;\n  }\n  .info {\n    margin-left: 3rem;\n    margin-right: 3rem;\n\n    @media "," {\n      font-size: ",";\n    }\n  }\n  h1 {\n    @media "," {\n      display: flex;\n      justify-content: center;\n    }\n  }\n"])),A.Z.colors.black,A.Z.colors.white,A.Z.media.phone,A.Z.media.phone,A.Z.fontSizes.fs07,A.Z.media.phone),D=S.ZP.div(o||(o=(0,_.Z)(["\n  margin-top: 2rem;\n  .detailLine {\n    display: flex;\n    align-items: center;\n\n    @media "," {\n      flex-direction: column;\n    }\n  }\n  .name {\n    display: flex;\n    flex-direction: column;\n    margin-right: 2rem;\n\n    @media "," {\n      white-space: nowrap;\n    }\n    @media "," {\n      font-size: ",";\n      margin-bottom: 0.5rem;\n      margin-left: 1.5rem;\n    }\n  }\n"])),A.Z.media.phone,A.Z.media.mobile,A.Z.media.phone,A.Z.fontSizes.fs07),I=(0,S.ZP)(N.rU)(a||(a=(0,_.Z)(["\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n"]))),U=S.ZP.img(c||(c=(0,_.Z)(["\n  width: ",";\n  height: ",";\n  border-radius: 25px;\n  margin-right: 0.5rem;\n  margin-left: ",";\n\n  @media "," {\n    margin-bottom: 0.5rem;\n    width: ",";\n    height: ",";\n  }\n"])),(function(n){return n.width||"36px"}),(function(n){return n.height||"36px"}),(function(n){return n.margin}),A.Z.media.phone,(function(n){return n.width_hover||"36px"}),(function(n){return n.height_hover||"36px"})),M=S.ZP.button(s||(s=(0,_.Z)(["\n  color: ",";\n  background-color: ",";\n  border: none;\n  cursor: pointer;\n  display: flex;\n\n  @media "," {\n    white-space: nowrap;\n    justify-content: center;\n  }\n"])),A.Z.colors.main,A.Z.colors.black,A.Z.media.phone),J=S.ZP.span(d||(d=(0,_.Z)(["\n  color: ",";\n\n  @media "," {\n    white-space: nowrap;\n  }\n"])),A.Z.colors.content,A.Z.media.mobile),T=S.ZP.button(l||(l=(0,_.Z)(["\n  display: flex;\n  height: 3vh;\n  align-items: center;\n  border-radius: 5px;\n  margin-right: 0.25rem;\n  padding: 0.25rem 0.25rem;\n  color: ",";\n  background-color: ",";\n  border: 2px solid ",";\n  svg {\n    margin-right: 2px;\n  }\n  &:hover {\n    background-color: ",";\n    color: ",";\n  }\n\n  @media "," {\n    white-space: nowrap;\n  }\n  @media "," {\n    font-size: ",";\n    margin-bottom: ",";\n  }\n"])),(function(n){return n.color}),A.Z.colors.black,(function(n){return n.border}),(function(n){return n.hover}),(function(n){return n.hover_color}),A.Z.media.mobile,A.Z.media.phone,A.Z.fontSizes.fs07,(function(n){return n.margin})),E=S.ZP.div(m||(m=(0,_.Z)(["\n  margin: 3rem 3rem 0 3rem;\n  padding-bottom: 3rem;\n  border-bottom: 2px solid ",";\n"])),A.Z.colors.gray_03),F=S.ZP.ul(u||(u=(0,_.Z)(["\n  display: flex;\n  list-style: none;\n  color: ",";\n  font-size: ",";\n\n  li {\n    border: 2px solid ",";\n    padding: 0.125rem 0.25rem;\n    border-radius: 20px;\n    margin-top: 1rem;\n    margin-right: 0.25rem;\n  }\n"])),A.Z.colors.content,A.Z.fontSizes.fs0,A.Z.colors.gray_03),H=S.ZP.div(h||(h=(0,_.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 3rem;\n  .textArea {\n    padding: 1.25rem 1.5rem;\n    width: 40vw;\n    height: 8vh;\n    display: block;\n    border-radius: 5px 5px 0 0;\n    border: 2px solid ",";\n  }\n  .commentToken {\n    padding-bottom: 3rem;\n\n    @media "," {\n      /* white-space: nowrap; */\n      font-size: ",";\n    }\n  }\n"])),A.Z.colors.gray_01,A.Z.media.phone,A.Z.fontSizes.fs07),L=S.ZP.div(p||(p=(0,_.Z)([""]))),q=S.ZP.div(f||(f=(0,_.Z)(["\n  display: flex;\n  height: 6vh;\n  align-items: center;\n  justify-content: space-between;\n  background-color: ",";\n  border: 2px solid ",";\n  /* border-top: 1px solid ","; */\n  border-radius: 0 0 10px 10px;\n\n  .commentName {\n    display: flex;\n    align-items: center;\n\n    @media "," {\n      white-space: nowrap;\n      font-size: ",";\n    }\n    .commentUser {\n      margin-bottom: 0.5rem;\n\n      @media "," {\n        white-space: nowrap;\n        font-size: ",";\n      }\n    }\n  }\n\n  @media "," {\n    font-size: ",";\n    margin-bottom: ",";\n  }\n"])),A.Z.colors.gray_01,A.Z.colors.gray_01,A.Z.colors.gray_01,A.Z.media.height,A.Z.fontSizes.fs07,A.Z.media.phone,A.Z.fontSizes.fs0,A.Z.media.phone,A.Z.fontSizes.fs0,(function(n){return n.margin})),B=S.ZP.button(g||(g=(0,_.Z)(["\n  border-radius: 5px;\n  padding: 0.25rem 0.5rem;\n  margin-right: 1.25rem;\n  color: ",";\n  border: 2px solid ",";\n  background-color: ",";\n  cursor: pointer;\n  @media "," {\n    font-size: ",";\n    margin-left: 0.5rem;\n  }\n"])),A.Z.colors.white,A.Z.colors.main,A.Z.colors.main,A.Z.media.phone,A.Z.fontSizes.fs0),O=S.ZP.div(x||(x=(0,_.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 1rem;\n"]))),W=S.ZP.div(Z||(Z=(0,_.Z)(["\n  margin-bottom: 1rem;\n"]))),G=S.ZP.div(v||(v=(0,_.Z)(["\n  width: 35vw;\n  height: 4vh;\n  padding: 1.25rem 1.25rem;\n  border: 2px solid ",";\n"])),A.Z.colors.gray_01),K=S.ZP.button(b||(b=(0,_.Z)(["\n  border: none;\n  font-size: ",";\n  background-color: ",";\n  margin-right: 1.25rem;\n  cursor: pointer;\n"])),A.Z.fontSizes.fs15,A.Z.colors.gray_01),Q=r(7689),R=r(5920),V=r(2858),X=r(1243),$=r(6919),nn=r(3408),en=r(184),rn=function(n){var e=n.userInfo,r=n.userPlace,t=new R.Z,i=t.get("token"),o=t.get("username"),a=t.get("userId"),c=(0,k.useState)(""),s=(0,y.Z)(c,2),d=s[0],l=s[1],m=(0,k.useState)([]),u=(0,y.Z)(m,2),h=u[0],p=u[1],f=(0,Q.s0)(),g=(0,Q.UO)().id,x=null===e||void 0===e?void 0:e.find((function(n){return n.id===a})),Z=r.find((function(n){return n.id===g}));(0,k.useEffect)((function(){var n=function(){var n=(0,w.Z)((0,j.Z)().mark((function n(){var e,r;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,nn.d7)();case 2:r=n.sent,p(null===r||void 0===r||null===(e=r.data)||void 0===e?void 0:e.comment);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);var v=function(){var n=(0,w.Z)((0,j.Z)().mark((function n(){var e,r,t;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=new Date(Date.now()),n.next=4,X.Z.post("".concat("http://localhost:8000","/api/places/comment"),{comment:d,createdAt:e,creator:a,username:o,image:x.image,commentId:g},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,$.ej)("token"))}});case 4:n.sent,window.location.reload(),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),alert(null===n.t0||void 0===n.t0||null===(r=n.t0.response)||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=(0,w.Z)((0,j.Z)().mark((function n(e){return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,window.confirm("\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){n.next=5;break}alert("\ucde8\uc18c\ud558\uc600\uc2b5\ub2c8\ub2e4."),n.next=9;break;case 5:return n.next=7,(0,nn.YF)(i,e);case 7:alert("\uc0ad\uc81c\ud558\uc600\uc2b5\ub2c8\ub2e4."),window.location.reload();case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}();return(0,en.jsx)(Y,{children:Z&&(0,en.jsxs)("div",{children:[(0,en.jsx)(C,{children:(0,en.jsxs)("div",{className:"info",children:[(0,en.jsx)("h1",{children:Z.title}),(0,en.jsx)(D,{children:(0,en.jsxs)("div",{className:"detailLine",children:[(0,en.jsx)(I,{to:i?"/mypage":"",children:(0,en.jsx)(U,{src:"".concat("http://localhost:8000","/").concat(null===Z||void 0===Z?void 0:Z.image),alt:"\uc774\ubbf8\uc9c0"})}),(0,en.jsxs)("div",{className:"name",children:[(0,en.jsx)(M,{href:"/mypage",children:(null===Z||void 0===Z?void 0:Z.creator)===a?null===x||void 0===x?void 0:x.username:null===Z||void 0===Z?void 0:Z.username}),(0,en.jsx)(J,{children:(0,en.jsx)(V.J,{createdAt:Z.createdAt})})]}),i&&Z.creator===a?(0,en.jsxs)(T,{"aria-label":"edit_button",border:"#ccc",color:"#ccc",hover:"#282A3A",hover_color:"white",margin:"0.5rem",onClick:function(){return f("/edit/".concat(Z.id))},children:[(0,en.jsx)(z.FNg,{}),"Edit Article"]}):""]})})]})}),(0,en.jsxs)(E,{children:[(0,en.jsx)("div",{children:Z.content}),(0,en.jsx)(F,{children:Z.tags.split(",").map((function(n,e){return(0,en.jsx)("li",{children:n},e)}))})]}),(0,en.jsx)(H,{children:i?(0,en.jsxs)(L,{children:[(0,en.jsx)("textarea",{value:d,onChange:function(n){l(n.target.value)},className:"textArea",type:"text",name:"commentInput",placeholder:"Write a comment..."}),(0,en.jsxs)(q,{children:[(0,en.jsxs)("div",{className:"commentName",children:[(0,en.jsx)(U,{src:"".concat("http://localhost:8000","/").concat(null===x||void 0===x?void 0:x.image),alt:"\uc774\ubbf8\uc9c0",margin:"1.25rem",width_hover:"20px",height_hover:"20px"}),(0,en.jsx)("span",{className:"commentUser",children:null===x||void 0===x?void 0:x.username})]}),(0,en.jsx)(B,{"aria-label":"comment_button",onClick:v,children:"Comment"})]})]}):(0,en.jsx)("div",{className:"commentToken",children:"\ub85c\uadf8\uc778 \ud558\uc2e0 \ud6c4\uc5d0 \ub313\uae00\uc744 \uc791\uc131 \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})}),(0,en.jsx)(O,{children:(0,en.jsx)("div",{children:null===h||void 0===h?void 0:h.map((function(n,e){return n.commentId===g?(0,en.jsxs)(W,{children:[(0,en.jsx)(G,{children:(0,en.jsx)("p",{children:n.comment})}),(0,en.jsxs)(q,{children:[(0,en.jsxs)("div",{className:"commentName",children:[(0,en.jsx)(U,{src:"".concat("http://localhost:8000","/").concat(null===n||void 0===n?void 0:n.image),alt:"\uc774\ubbf8\uc9c0",margin:"1.25rem",width:"24px",height:"24px",width_hover:"20px",height_hover:"20px"}),(0,en.jsx)("span",{className:"commentUser",children:n.creator===a?null===x||void 0===x?void 0:x.username:n.username})]}),n.creator===a?(0,en.jsx)(K,{"aria-label":"delete_button",onClick:function(){return b(n.id)},children:(0,en.jsx)(P.qy0,{})}):""]})]},e):""})).reverse()})})]})})}}}]);
//# sourceMappingURL=623.b6e92164.chunk.js.map