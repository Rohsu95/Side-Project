"use strict";(self.webpackChunkpre=self.webpackChunkpre||[]).push([[714],{6919:function(n,e,r){r.d(e,{nJ:function(){return s}});var a=r(1413),o=new(r(5920).Z),s=function(n,e){return o.remove(n,(0,a.Z)({},e))}},1714:function(n,e,r){r.r(e),r.d(e,{default:function(){return P}});var a,o,s,t,i,d,m=r(1413),l=r(4165),u=r(5861),c=(r(2791),r(887)),p=r(7689),g=r(168),h=r(6444),v=r(2004),f=h.ZP.div(a||(a=(0,g.Z)(["\n  margin-top: 1rem;\n\n  h1 {\n    text-align: center;\n    font-weight: 400;\n    margin-bottom: 1rem;\n    @media "," {\n      font-size: ",";\n    }\n  }\n"])),v.Z.media.height,v.Z.fontSizes.fs15),Z=h.ZP.div(o||(o=(0,g.Z)(["\n  display: flex;\n  justify-content: center;\n\n  input {\n    width: 45vw;\n    outline: none;\n    display: block;\n    border-radius: 3px;\n    border: 1px solid ",";\n  }\n  form {\n    padding-bottom: 2rem;\n  }\n  span {\n    font-size: ",";\n    color: red;\n    display: block;\n    margin-bottom: 1rem;\n    @media "," {\n      font-size: ",";\n    }\n  }\n"])),v.Z.colors.gray_03,v.Z.fontSizes.fs07,v.Z.media.height,v.Z.fontSizes.fs06),x=(h.ZP.input(s||(s=(0,g.Z)(["\n  padding: 0.5rem;\n  margin-top: 1rem;\n  margin-bottom: 1rem;\n"]))),h.ZP.input(t||(t=(0,g.Z)(["\n  margin-bottom: 0.25rem;\n  padding: 0.9rem 0.5rem;\n"])))),b=(h.ZP.textarea(i||(i=(0,g.Z)(["\n  width: 45vw;\n  height: 15vh;\n  outline: none;\n  padding: 0.5rem;\n  display: block;\n  margin-bottom: 1rem;\n  border-radius: 3px;\n  border: 1px solid ",";\n"])),v.Z.colors.gray_03),h.ZP.button(d||(d=(0,g.Z)(["\n  float: right;\n  cursor: pointer;\n  border-radius: 5px;\n  padding: 0.5rem 0.75rem;\n  color: ",";\n  background-color: ",";\n  border: 1px solid ",";\n\n  &:hover {\n    background-color: ",";\n  }\n  @media "," {\n    font-size: ",";\n  }\n"])),v.Z.colors.white,v.Z.colors.main,v.Z.colors.main,v.Z.colors.main_hover,v.Z.media.height,v.Z.fontSizes.fs0)),w=r(1243),y=r(5920),j=r(3713),k=r(8556),S=r(6919),z=r(184),P=function(){var n,e,r,a=new y.Z,o=(a.get("token"),a.get("userId")),s=(0,j.NL)(),t=(0,p.s0)(),i=(0,c.cI)(),d=i.register,g=i.handleSubmit,h=i.watch,v=i.formState.errors,P=(0,k.D)({mutationKey:"PATCH",mutationFn:function(){var n=(0,u.Z)((0,l.Z)().mark((function n(e){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w.Z.patch("".concat("https://side-410308.du.r.appspot.com","/api/users/").concat(o),e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onSuccess:function(n){var e,r;alert("\uc815\ubcf4 \uc218\uc815\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.");var o=null===n||void 0===n||null===(e=n.data)||void 0===e||null===(r=e.user)||void 0===r?void 0:r.username;(0,S.nJ)("username"),a.set("username",o),s.invalidateQueries(),t("/mypage")},onError:function(n){var e,r;alert(null===n||void 0===n||null===(e=n.response)||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)}}),L=P.mutate;return(0,z.jsxs)(f,{children:[(0,z.jsx)("h1",{children:"Your Settings"}),(0,z.jsx)(Z,{children:(0,z.jsxs)("form",{onSubmit:g((function(){L({username:h("username"),email:h("email"),password:h("password")})})),children:[(0,z.jsx)(x,(0,m.Z)({type:"text",placeholder:"Username",name:"username"},d("username",{required:"4\uc790 \uc774\uc0c1 12\uc790\ub9ac \uc774\ud558\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694",minLength:{value:4,message:"4\uc790 \uc774\uc0c1\uc758 username\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"},maxLength:{value:12,message:"12\uc790 \uc774\ud558\uc758 usename\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"}}))),(0,z.jsx)("span",{children:null===v||void 0===v||null===(n=v.username)||void 0===n?void 0:n.message}),(0,z.jsx)(x,(0,m.Z)({placeholder:"Email",name:"email",type:"email"},d("email",{required:"12\uc790 \uc774\uc0c1 20\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694",minLength:{value:12,message:"12\uc790 \uc774\uc0c1\uc758 email\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"},maxLength:{value:20,message:"20\uc790 \uc774\ud558\uc758 email\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"}}))),(0,z.jsx)("span",{children:null===v||void 0===v||null===(e=v.email)||void 0===e?void 0:e.message}),(0,z.jsx)(x,(0,m.Z)({placeholder:"New Password",type:"password",name:"password"},d("password",{required:"8\uc790 \uc774\uc0c1 12\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574 \uc8fc\uc138\uc694",minLength:{value:8,message:"8\uc790 \uc774\uc0c1\uc758 password\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"},maxLength:{value:12,message:"12\uc790 \uc774\ud558\uc758 password\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"}}))),(0,z.jsx)("span",{children:null===v||void 0===v||null===(r=v.password)||void 0===r?void 0:r.message}),(0,z.jsx)(b,{children:"Update Settings"})]})})]})}}}]);
//# sourceMappingURL=714.5a41d23f.chunk.js.map